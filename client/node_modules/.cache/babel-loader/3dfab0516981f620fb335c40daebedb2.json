{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\Github shit\\\\react-ecommerce\\\\client\\\\src\\\\Component\\\\stripe\\\\CheckoutForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nconst CARD_ELEMENT_OPTIONS = {\n  style: {\n    base: {\n      color: \"#303238\",\n      fontSize: \"16px\",\n      fontFamily: \"sans-serif\",\n      fontSmoothing: \"antialiased\",\n      \"::placeholder\": {\n        color: \"#CFD7DF\"\n      }\n    },\n    invalid: {\n      color: \"#e5424d\",\n      \":focus\": {\n        color: \"#303238\"\n      }\n    }\n  }\n};\n\nconst CardField = ({\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"FormRow\",\n  children: [\"Card details\", /*#__PURE__*/_jsxDEV(CardElement, {\n    options: CARD_ELEMENT_OPTIONS,\n    onChange: onchange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 3\n}, this);\n\n_c = CardField;\n\nconst Field = ({\n  id,\n  label,\n  autoComplete,\n  value,\n  type,\n  required,\n  onChange,\n  placeHolder\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"formRow\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    htmlFor: id,\n    className: \"formRowLabel\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"formRowInput\",\n    type: type,\n    value: value,\n    autoComplete: autoComplete,\n    required: required,\n    onChange: onChange,\n    placeholder: placeHolder\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 40,\n  columnNumber: 3\n}, this);\n\n_c2 = Field;\n\nconst SubmitButton = ({\n  children,\n  processing,\n  error,\n  disabled\n}) => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: `SubmitButton ${error ? \"SubmitButtonError\" : \"\"}`,\n  type: \"submit\",\n  disabled: processing || disabled,\n  children: processing ? \"Processing\" : children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 56,\n  columnNumber: 3\n}, this);\n\n_c3 = SubmitButton;\n\nconst ErrorMessage = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ErrorMessage\",\n  role: \"alert\",\n  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 17 17\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      fill: \"#FFF\",\n      d: \"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      fill: \"#6772e5\",\n      d: \"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this), children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 65,\n  columnNumber: 3\n}, this);\n\n_c4 = ErrorMessage;\n\nconst CheckoutForm = () => {\n  _s();\n\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [cardComplete, setCardComplete] = useState(false);\n  const [paymentMethod, setPaymentMethod] = useState(null);\n  const [billingDetails, setBillingDetails] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\"\n  });\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (!stripe || !elements) {\n      return;\n    }\n\n    if (error) {\n      elements.getElement(\"card\").focus();\n      return;\n    }\n\n    if (cardComplete) {\n      setProcessing(true);\n    }\n\n    const cardElement = elements.getElement(CardElement);\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement\n    });\n\n    if (error) {\n      console.log(\"[error]\", error);\n    } else {\n      console.log(\"[PaymentMethod]\", paymentMethod);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(CardElement, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !stripe,\n      children: \"Pay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CheckoutForm, \"dPovSYrhywJmnTiC9VvHcC2RNqM=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c5 = CheckoutForm;\nexport default CheckoutForm;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"CardField\");\n$RefreshReg$(_c2, \"Field\");\n$RefreshReg$(_c3, \"SubmitButton\");\n$RefreshReg$(_c4, \"ErrorMessage\");\n$RefreshReg$(_c5, \"CheckoutForm\");","map":{"version":3,"sources":["D:/Github shit/react-ecommerce/client/src/Component/stripe/CheckoutForm.js"],"names":["React","useState","CardElement","useStripe","useElements","CARD_ELEMENT_OPTIONS","style","base","color","fontSize","fontFamily","fontSmoothing","invalid","CardField","onChange","onchange","Field","id","label","autoComplete","value","type","required","placeHolder","SubmitButton","children","processing","error","disabled","ErrorMessage","CheckoutForm","stripe","elements","setProcessing","setError","cardComplete","setCardComplete","paymentMethod","setPaymentMethod","billingDetails","setBillingDetails","name","email","phone","handleSubmit","event","preventDefault","getElement","focus","cardElement","createPaymentMethod","card","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nconst CARD_ELEMENT_OPTIONS = {\r\n  style: {\r\n    base: {\r\n      color: \"#303238\",\r\n      fontSize: \"16px\",\r\n      fontFamily: \"sans-serif\",\r\n      fontSmoothing: \"antialiased\",\r\n      \"::placeholder\": {\r\n        color: \"#CFD7DF\",\r\n      },\r\n    },\r\n    invalid: {\r\n      color: \"#e5424d\",\r\n      \":focus\": {\r\n        color: \"#303238\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nconst CardField = ({ onChange }) => (\r\n  <div className=\"FormRow\">\r\n    Card details\r\n    <CardElement options={CARD_ELEMENT_OPTIONS} onChange={onchange} />\r\n  </div>\r\n);\r\n\r\nconst Field = ({\r\n  id,\r\n  label,\r\n  autoComplete,\r\n  value,\r\n  type,\r\n  required,\r\n  onChange,\r\n  placeHolder,\r\n}) => (\r\n  <div className=\"formRow\">\r\n    <label htmlFor={id} className=\"formRowLabel\">\r\n      {label}\r\n    </label>\r\n    <input\r\n      className=\"formRowInput\"\r\n      type={type}\r\n      value={value}\r\n      autoComplete={autoComplete}\r\n      required={required}\r\n      onChange={onChange}\r\n      placeholder={placeHolder}\r\n    />\r\n  </div>\r\n);\r\nconst SubmitButton = ({ children, processing, error, disabled }) => (\r\n  <button\r\n    className={`SubmitButton ${error ? \"SubmitButtonError\" : \"\"}`}\r\n    type=\"submit\"\r\n    disabled={processing || disabled}\r\n  >\r\n    {processing ? \"Processing\" : children}\r\n  </button>\r\n);\r\nconst ErrorMessage = ({ children }) => (\r\n  <div className=\"ErrorMessage\" role=\"alert\">\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 17 17\">\r\n      <path\r\n        fill=\"#FFF\"\r\n        d=\"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z\"\r\n      />\r\n      <path\r\n        fill=\"#6772e5\"\r\n        d=\"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z\"\r\n      />\r\n    </svg>\r\n    {children}\r\n  </div>\r\n);\r\nconst CheckoutForm = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [processing, setProcessing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [cardComplete, setCardComplete] = useState(false);\r\n  const [paymentMethod, setPaymentMethod] = useState(null);\r\n  const [billingDetails, setBillingDetails] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n    if (error) {\r\n      elements.getElement(\"card\").focus();\r\n      return;\r\n    }\r\n    if (cardComplete) {\r\n      setProcessing(true);\r\n    }\r\n    const cardElement = elements.getElement(CardElement);\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: cardElement,\r\n    });\r\n\r\n    if (error) {\r\n      console.log(\"[error]\", error);\r\n    } else {\r\n      console.log(\"[PaymentMethod]\", paymentMethod);\r\n    }\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <CardElement />\r\n      <button type=\"submit\" disabled={!stripe}>\r\n        Pay\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nexport default CheckoutForm;\r\n"]},"metadata":{},"sourceType":"module"}